{"version":3,"sources":["webpack:///./src/scripts/utilities/elements.js","webpack:///./src/scripts/booking/checkDetails.js","webpack:///./src/scripts/booking/check.js","webpack:///./src/scripts/booking/product.js","webpack:///./src/scripts/ui/scrollTo.js","webpack:///./src/scripts/utilities/expand.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/scripts/utilities/icons.js","webpack:///./src/scripts/booking/reservationForm.js","webpack:///./src/scripts/utilities/spinner.js","webpack:///./src/scripts/utilities/storage.js","webpack:///./src/scripts/utilities/numberFormats.js","webpack:///./src/scripts/utilities/api.js","webpack:///./src/scripts/booking/eventReservation.js","webpack:///./src/scripts/booking/event.js","webpack:///./src/scripts/booking/reservation.js","webpack:///./src/scripts/utilities/overlay.js"],"names":["createHeader","level","text","header","document","createElement","headerText","createTextNode","appendChild","createParagraph","customClass","paragraph","paragraphText","classList","add","createInput","parent","labelText","name","type","value","arguments","length","undefined","required","placeholder","min","max","size","pattern","label","labelElText","input","createDobInput","dobContainer","dobLabel","dayCont","monthCont","yearCont","createCloseButton","button","buttonText","addEventListener","parentNode","removeChild","createInfoBlock","blocks","containerEl","labelEl","forEach","block","blockEl","content","innerhtml","innerHTML","blockElContents","createConfirmationCheckbox","id","checkboxCont","checkboxEl","setAttribute","__webpack_require__","d","__webpack_exports__","CheckDetails","checkDetailsId","checkId","status","productId","productName","createdDate","qty","cadetQty","unitPrice","r_Points","taxId","this","discountApplied","voidNotes","discountNotes","prototype","createCheckDetailsOnApi","api","Promise","resolve","reject","postCheckDetailsString","base_url","fetch","method","then","response","ok","Error","statusText","json","newCheckId","catch","err","bind","Check","customerId","total","notes","openedDate","closedDate","discount","checkDetails","createCheckOnApi","postCheckString","console","log","voidCheck","voidCheckString","_utilities_storage_js__WEBPACK_IMPORTED_MODULE_0__","Product","productType","description","price1","price2","priceCadet","wcName","getProductById","storage","Storage","productStorage","retrieve","items","expired","product","getProductFromApi","store","_this","productQueryString","checkResponse","returnJson","result","products","scrollTo","trgt","offsetTop","elTop","getBoundingClientRect","top","window","scroll","scrollY","left","behavior","querySelectorAll","element","e","preventDefault","trgtId","getAttribute","replace","getElementById","expand","newElId","elType","newElement","elementCoords","style","width","height","bgcolor","getComputedStyle","backgroundColor","schedule","setTimeout","map","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","webpackContextResolve","code","keys","Object","module","exports","helmetIcon","svg","createElementNS","pathOne","pathTwo","setAttributeNS","ReservationForm","targetEl","autoLoadForm","isFamilyEvent","bookingQty","qtyCadets","qtyInduction","price","regularPrice","onSale","inductionPrice","partyInfo","addFormElements","reservationForm","eventId","eventReservationId","eventName","start","duration","wcProductId","trackId","currentUser","currentParticipants","maxParticipants","subtotal","calculateOrderTotal","dateDisplay","format","timeDisplay","dateInfo","elementType","quantitiesCont","displayQuantities","showInductions","drawOrderTotal","nameInput","emailInput","dobInputEl","confirmationEl","email","subTotalInput","clone","bookingQtyInput","parseInt","qtyCadetsInput","qtyInductionInput","closeButton","getElementsByClassName","inductionTimeSelect","inductionTimesCont","addSpinner","display","totalTitle","qtyTotal","guests","extra_guests","qtyAdultsWrap","onQuantityChange","qtyCadetsWrap","qtyInductionsWrap","qtyInductionsEl","inductionsInput","qtyTotalEl","qtyAdultsEl","qtyCadetsEl","addInductionTime","time","index","inductionEventResId","inductionEventId","timeFormat","timeLabel","inductionContainer","contains","removeSpinner","inductionInput","inductionLabel","inductionLabelText","noInductionsAvailable","headerEl","infoEl","_toConsumableArray","children","child","tagName","disabled","submitButton","getElementsByName","adultQtyInput","cadetQtyInput","inductionQtyInput","existingSubtotalEl","replaceChild","parseFloat","extra_guest_price","subTotalEl","orderTotalContent","regularPriceText","toCurrency","inductionSubTotalDisplay","subTotalDisplay","spinnerEl","x","childDiv","firstChild","remove","moment__WEBPACK_IMPORTED_MODULE_0__","moment__WEBPACK_IMPORTED_MODULE_0___default","n","localStorage","expire","storeName","JSON","parse","getItem","itemKey","storageObject","updated","moment","setItem","stringify","storageExpire","echo","echoObject","_i","key","toFixed","Api","limit","EventReservation","endTime","eventTypeId","minNoOfAdultsPerBooking","minNoOfCadetsPerBooking","noOfCadetRacers","noOfRacers","noOfTotalRacers","startTime","subject","externalSystemId","typeId","hidden","event","checks","userId","getCurrentParticipants","participants","checkKeys","checkDetailKeys","_i2","checkDetailId","checkDetail","rPoints","createEventReservationOnApi","eventScheduledTime","eventDuration","createEventReservationString","newEventReservationId","setId","getChecks","getEventReservationLinks","eventReservationLinks","checkIds","eventResLink","push","checksQueryString","eventReservationLinkString","setStatus","info","putEventResStatusString","cors","removeCheck","checkCnt","check","Event","eventDesc","eventTypeName","reservationId","trackNo","eventHeatTypes","eventRoundsIds","getEventIds","createEventOnApi","newEventId","_this2","postEventString","createEventRoundsOnApi","heatType","eventRoundsPostString","cadetsPerHeat","heatsPerRacer","heatTypeId","racersPerHeat","roundNumber","roundWinBy","proceedValue","proceedMethod","lineUpType","eventRoundId","_this3","removeEventOnApi","deleteEventString","_utilities_elements_js__WEBPACK_IMPORTED_MODULE_1__","moment__WEBPACK_IMPORTED_MODULE_2__","moment__WEBPACK_IMPORTED_MODULE_2___default","_utilities_spinner_js__WEBPACK_IMPORTED_MODULE_3__","Reservation","created","customer","eventReservation","eventReservationLink","wcEventTitle","induction","setStatusCancelled","displaySummary","eventTitle","startTimeMoment","startDateDisplay","startTimeDisplay","startDate","showOverlay","_spinner_js__WEBPACK_IMPORTED_MODULE_0__","sub","loading","hideSpinner","overlay","body"],"mappings":"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GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,gBAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,UAAA,GACAC,aAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,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","file":"booking~index.js","sourcesContent":["export function createHeader(level, text) {\n  let header = document.createElement(level);\n  let headerText = document.createTextNode(text);\n  header.appendChild(headerText);\n  return header;\n}\n\nexport function createLink (href, text, customClass) {\n  let link = document.createElement('a');\n  let linkText = document.createTextNode(text);\n  link.href = href;\n  link.classList.add(customClass);\n  link.appendChild(linkText);\n  return link;\n}\n\nexport function createParagraph (text, customClass) {\n  let paragraph = document.createElement('p');\n  let paragraphText = document.createTextNode(text);\n  paragraph.classList.add(customClass);\n  paragraph.appendChild(paragraphText);\n  return paragraph;\n}\n\nexport function createInput (parent, labelText, name, type, value = '', required = false, placeholder = '', min, max, maxlength, size, pattern) {\n  //label\n  if(type!='submit' && type!='hidden'){\n    let label = document.createElement('label');\n    let labelElText = document.createTextNode(labelText);\n    label.appendChild(labelElText);\n    parent.appendChild(label);\n  }\n  //input\n  let input = document.createElement('input');\n  input.type = type;\n  input.value = value;\n  input.name = name;\n  input.placeholder = placeholder;\n  if( required ){\n    input.required = true;\n  }\n  if( min ){\n    input.min = min;\n  }\n  if( max ){\n    input.max = max;\n  }\n  if( length ){\n    input.length = length;\n  }\n  if( size ){\n    input.size = size;\n  }\n  if( pattern ){\n    input.pattern = pattern;\n  }\n  parent.appendChild(input);\n  return input;\n}\n\nexport function createDobInput(){\n  let dobContainer = document.createElement('div');\n  dobContainer.classList.add('dob-input-cont');\n  //label\n  let dobLabel = document.createElement('label');\n  let labelText = document.createTextNode('Date of Birth');\n  dobLabel.appendChild( labelText );\n  //day\n  let dayCont = document.createElement('div');\n  let dayInput = createInput( dayCont, 'Day', 'dob-day', 'number', '', true, 'dd', 1, 31, 2, 2, '[0-9]{2}' );\n  dayInput.classList.add('dob-input');\n  //month\n  let monthCont = document.createElement('div');\n  let monthInput = createInput( monthCont, 'Month', 'dob-month', 'number', '', true, 'mm', 1, 12, 2, 2, '[0-9]{2}' );\n  monthInput.classList.add('dob-input');\n  //year\n  let yearCont = document.createElement('div');\n  let yearInput = createInput( yearCont, 'Year', 'dob-year', 'number', '', true, 'yyyy', 1900, 2015, 4, 4, '[0-9]{4}' );\n  yearInput.classList.add('dob-input');\n\n  dobContainer.appendChild(dobLabel);\n  dobContainer.appendChild(dayCont);\n  dobContainer.appendChild(monthCont);\n  dobContainer.appendChild(yearCont);\n\n  return dobContainer;\n\n}\n\nexport function createCloseButton (parent, text, name, type, customClass) {\n  let button = document.createElement('button');\n  button.type = type;\n  let buttonText = document.createTextNode(text);\n  button.appendChild(buttonText);\n  button.addEventListener('click', function () {\n    parent.parentNode.removeChild(parent);\n  })\n  //custom class\n  if( customClass ){\n    button.classList.add( customClass );\n  }\n  return button;\n}\n\nexport function createInfoBlock( label, blocks = [], classes = [] ){\n  let containerEl = document.createElement('div');\n  //label\n  if( label ){\n    let labelEl = document.createElement('label');\n    let labelElText = document.createTextNode( label );\n    labelEl.appendChild( labelElText );\n    containerEl.appendChild( labelEl );\n  }\n  //info\n  blocks.forEach( ( block ) => {\n    let blockEl = null;\n    if( block.type === 'node'){\n      blockEl = block.content;\n    } else {\n      blockEl = document.createElement('p');\n      if( block.innerhtml ){\n        blockEl.innerHTML = block.content;\n      } else {\n        let blockElContents = document.createTextNode( block.content );\n        blockEl.appendChild( blockElContents );\n      }\n    }\n    containerEl.appendChild( blockEl );\n  })\n\n  return containerEl;\n}\n\nexport function createBackButton( text, customClass ){\n  let backButtonEl = document.createElement('button');\n  let backButtonText = document.createTextNode( text );\n  if( customClass ){\n    backButtonEl.classList.add( customClass );\n  }\n  backButtonEl.addEventListener( 'click', window.history.back() );\n\n  return backButtonEl;\n\n}\n\nexport function createConfirmationCheckbox( name, id, labelText, required, customClass ){\n  let checkboxCont = document.createElement('div');\n  if( customClass ){\n    checkboxCont.classList.add( customClass );\n  }\n  let checkboxEl = document.createElement('input');\n  checkboxEl.type = 'checkbox';\n  checkboxEl.required = required;\n  checkboxEl.name = name;\n  checkboxEl.id = id;\n  let labelEl = document.createElement('label');\n  labelEl.setAttribute('for', id);\n  let labelElText = document.createTextNode( labelText );\n  labelEl.appendChild( labelElText );\n  checkboxCont.appendChild( checkboxEl );\n  checkboxCont.appendChild( labelEl );\n  return checkboxCont;\n}","function CheckDetails (checkDetailsId, checkId, status, type, productId, productName, createdDate, qty, cadetQty, unitPrice, r_Points, taxId) {\n\n  this.checkDetailsId = checkDetailsId;\n  this.checkId = checkId;\n  this.status = status;\n  this.type = type;\n  this.productId = productId;\n  this.productName = productName;\n  this.createdDate = createdDate;\n  this.qty = qty;\n  this.cadetQty = cadetQty;\n  this.unitPrice = unitPrice;\n  this.r_Points = r_Points;\n  this.taxId = taxId;\n  this.discountApplied = 0;\n  this.voidNotes = null;\n  this.discountNotes = null;\n\n}\n\nCheckDetails.prototype.createCheckDetailsOnApi = function(api) {\n  return new Promise (function (resolve, reject) {\n    let postCheckDetailsString = api.base_url + 'checkDetails?key=' + api.api +\n      '&checkId=' + this.checkId +\n      '&status=' + this.status + //1 - new\n      '&type=' + this.type + //4 - Reservation\n      '&productId=' + this.productId +\n      '&productName=' + this.productName +\n      '&createdDate=' + this.createdDate +\n      '&qty=' + this.qty +\n      '&cadetQty=' + this.cadetQty +\n      '&unitPrice=' + this.unitPrice +\n      '&discountApplied=' + this.discountApplied +\n      '&taxId=' + this.taxId + //1 - VAT\n      '&s_SaleBy=' + 'website' +\n      '&r_Points=' + this.r_Points;\n\n    fetch(postCheckDetailsString, {method: 'POST'})\n      .then( response => {\n        if( !response.ok ){\n          throw Error(response.statusText);\n        }\n        return response;\n      })\n      .then( response =>\n        response.json()\n      )\n      .then( newCheckId => {\n        resolve(newCheckId);\n      })\n      .catch( err => {\n        reject(err);\n      })\n  }.bind(this))\n}\n\nexport default CheckDetails;\n","function Check(checkId, customerId, type, status, name, total, notes, openedDate) {\n\n  this.checkId = checkId;\n  this.customerId = customerId;\n  this.type = type;\n  this.status = status;\n  this.name = name;\n  this.total = total;\n  this.notes = notes;\n  this.openedDate = openedDate;\n  this.closedDate = null;\n  this.discount = 0;\n\n  this.checkDetails = {};\n\n}\n\nCheck.prototype.createCheckOnApi = function(api) {\n  return new Promise ( function (resolve, reject) {\n    let postCheckString = api.base_url + 'checks?key=' + api.api +\n      '&customerId=' + this.customerId + //set to 0 until customer created (at checkout) unless customer is logged in and has ID\n      '&type=' + this.type + //2 - Event check\n      '&status=' + this.status +//0 - open\n      '&name=' + this.name +\n      '&openedDate=' + this.openedDate +\n      '&userId=2' + //web user\n      '&total=' + this.total +  //total cannot be applied this way unfortunately\n      '&discount=' + this.discount +\n      '&notes=' + this.notes;\n\n    console.log(postCheckString);\n\n    fetch(postCheckString, {method: 'POST'})\n      .then( response => {\n        if( !response.ok ){\n          throw Error(response.statusText);\n        }\n        return response;\n      })\n      .then( response =>\n        response.json()\n      )\n      .then( newCheckId => {\n        resolve(newCheckId.checkId); //comes back as an object!!!\n      })\n      .catch( err => {\n        reject(err);\n      })\n  }.bind(this))\n}\n\nCheck.prototype.voidCheck = function( api ) {\n  return new Promise( function (resolve, reject) {\n    let voidCheckString = api.base_url + 'checks/' + this.checkId + '/void?key=' + api.api;\n\n    fetch( voidCheckString, {method: 'POST'})\n      .then( response => {\n        if( !response.ok ){\n          throw Error(response.statusText);\n        }\n        return response;\n      })\n      .then( response => {\n        resolve(true)\n      })\n      .catch( err => {\n        reject(err);\n      })\n\n  }.bind(this));\n}\n\nexport default Check;\n","import Storage from '../utilities/storage.js';\n\nfunction Product ( productId, productType, description, price1, price2, r_Points, priceCadet, wcName = null) {\n\n  this.productId = productId;\n  this.productType = productType;\n  this.description = description;\n  this.price1 = price1;\n  this.price2 = price2;\n  this.r_Points = r_Points;\n  this.priceCadet = priceCadet;\n  this.wcName = wcName;\n\n}\n\nProduct.prototype.getProductById = function ( productId, api ) {\n\n  //if no id decalred just use object id\n  if(!productId){\n    let productId = this.productId;\n  }\n\n  return new Promise( function( resolve, reject ){\n    //check local storage\n    let storage = new Storage();\n    let productStorage = storage.retrieve( 'products' );\n    if ( productStorage ) {\n      //check for id in storage\n      if ( productStorage.items[productId] ){\n        //if exists - check hasn't expired\n        if( !storage.expired( productStorage.items[productId] ) ){\n          let product = productStorage.items[productId];\n          //set attributes\n          this.productId = product.productId;\n          this.productType = product.productType;\n          this.description = product.description;\n          this.price1 = product.price1;\n          this.price2 = product.price2;\n          this.r_Points = product.r_Points;\n          this.priceCadet = product.priceCadet;\n          //resolve if meets these criteria\n          console.log('product fetched from storage');\n          return resolve( productStorage.items[productId] )\n        }\n      }\n    }\n    //fetch if requried\n    this.getProductFromApi( api )\n      .then( product => {\n        console.log('from api');\n        storage.store( product.productId, 'products', product );\n        resolve(product)\n      })\n\n  }.bind(this))\n}\n\nProduct.prototype.getProductFromApi = function ( api ) {\n  return new Promise( function( resolve, reject ){\n\n    let productQueryString = api.base_url + 'products/' + this.productId + '?key=' + api.api;\n    fetch( productQueryString )\n      .then( response => api.checkResponse(response) )\n      .then( response => api.returnJson(response) )\n      .then( result => {\n        let product = result.products[0]; //products returns as products object\n\n        this.productId = product.productId;\n        this.productType = product.productType;\n        this.description = product.description;\n        this.price1 = product.price1;\n        this.price2 = product.price2;\n        this.r_Points = product.r_Points;\n        this.priceCadet = product.priceCadet;\n        resolve( product )\n      })\n      .catch( err => {\n        reject( err );\n      })\n\n  }.bind(this))\n}\n\nexport default Product;\n","[...document.querySelectorAll('.scroll-to')].forEach(function(element) { //makes use of ... spread operator to convert to array\n  element.addEventListener('click', ( e ) => {\n    e.preventDefault();\n    let trgt = element.getAttribute('href');\n    let trgtId = trgt.replace('#', '');\n    let trgtEl = document.getElementById( trgtId );\n    scrollTo( trgtEl, 0 );\n  });\n});\n\n\nexport function scrollTo( trgt, offsetTop = 40 ){\n  let elementCoords = trgt.getBoundingClientRect();\n  let elTop = elementCoords.top;\n\n  window.scroll({\n    top: window.scrollY + elTop - offsetTop,\n    left: 0,\n    behavior: 'smooth'\n  })\n\n}\n","const expand = function(element, parent, newElId, elType = 'div') {\n\n  return new Promise ( function(resolve, reject) {\n\n    if(!document.getElementById(newElId)){\n      let newElement = document.createElement(elType);\n      newElement.id = newElId;\n\n      //get element coords\n      let elementCoords = element.getBoundingClientRect();\n      newElement.style.top = elementCoords.top + 'px';\n      newElement.style.left = elementCoords.left + 'px';\n      newElement.style.width = elementCoords.width + 'px';\n      newElement.style.height = elementCoords.height + 'px';\n      //get/set element bgcolor\n      let bgcolor = window.getComputedStyle(element).backgroundColor;\n      newElement.style.backgroundColor = bgcolor;\n      schedule.appendChild(newElement);\n\n      setTimeout(function(){\n        //add full class to expand to position\n        newElement.classList.add('full');\n        setTimeout( function(){\n          resolve(newElement);\n        }, 600);\n      }, 100);\n    }\n  });\n}\n\nexport default expand;\n","var map = {\n\t\"./af\": 16,\n\t\"./af.js\": 16,\n\t\"./ar\": 17,\n\t\"./ar-dz\": 18,\n\t\"./ar-dz.js\": 18,\n\t\"./ar-kw\": 19,\n\t\"./ar-kw.js\": 19,\n\t\"./ar-ly\": 20,\n\t\"./ar-ly.js\": 20,\n\t\"./ar-ma\": 21,\n\t\"./ar-ma.js\": 21,\n\t\"./ar-sa\": 22,\n\t\"./ar-sa.js\": 22,\n\t\"./ar-tn\": 23,\n\t\"./ar-tn.js\": 23,\n\t\"./ar.js\": 17,\n\t\"./az\": 24,\n\t\"./az.js\": 24,\n\t\"./be\": 25,\n\t\"./be.js\": 25,\n\t\"./bg\": 26,\n\t\"./bg.js\": 26,\n\t\"./bm\": 27,\n\t\"./bm.js\": 27,\n\t\"./bn\": 28,\n\t\"./bn.js\": 28,\n\t\"./bo\": 29,\n\t\"./bo.js\": 29,\n\t\"./br\": 30,\n\t\"./br.js\": 30,\n\t\"./bs\": 31,\n\t\"./bs.js\": 31,\n\t\"./ca\": 32,\n\t\"./ca.js\": 32,\n\t\"./cs\": 33,\n\t\"./cs.js\": 33,\n\t\"./cv\": 34,\n\t\"./cv.js\": 34,\n\t\"./cy\": 35,\n\t\"./cy.js\": 35,\n\t\"./da\": 36,\n\t\"./da.js\": 36,\n\t\"./de\": 37,\n\t\"./de-at\": 38,\n\t\"./de-at.js\": 38,\n\t\"./de-ch\": 39,\n\t\"./de-ch.js\": 39,\n\t\"./de.js\": 37,\n\t\"./dv\": 40,\n\t\"./dv.js\": 40,\n\t\"./el\": 41,\n\t\"./el.js\": 41,\n\t\"./en-au\": 42,\n\t\"./en-au.js\": 42,\n\t\"./en-ca\": 43,\n\t\"./en-ca.js\": 43,\n\t\"./en-gb\": 44,\n\t\"./en-gb.js\": 44,\n\t\"./en-ie\": 45,\n\t\"./en-ie.js\": 45,\n\t\"./en-il\": 46,\n\t\"./en-il.js\": 46,\n\t\"./en-nz\": 47,\n\t\"./en-nz.js\": 47,\n\t\"./eo\": 48,\n\t\"./eo.js\": 48,\n\t\"./es\": 49,\n\t\"./es-do\": 50,\n\t\"./es-do.js\": 50,\n\t\"./es-us\": 51,\n\t\"./es-us.js\": 51,\n\t\"./es.js\": 49,\n\t\"./et\": 52,\n\t\"./et.js\": 52,\n\t\"./eu\": 53,\n\t\"./eu.js\": 53,\n\t\"./fa\": 54,\n\t\"./fa.js\": 54,\n\t\"./fi\": 55,\n\t\"./fi.js\": 55,\n\t\"./fo\": 56,\n\t\"./fo.js\": 56,\n\t\"./fr\": 57,\n\t\"./fr-ca\": 58,\n\t\"./fr-ca.js\": 58,\n\t\"./fr-ch\": 59,\n\t\"./fr-ch.js\": 59,\n\t\"./fr.js\": 57,\n\t\"./fy\": 60,\n\t\"./fy.js\": 60,\n\t\"./gd\": 61,\n\t\"./gd.js\": 61,\n\t\"./gl\": 62,\n\t\"./gl.js\": 62,\n\t\"./gom-latn\": 63,\n\t\"./gom-latn.js\": 63,\n\t\"./gu\": 64,\n\t\"./gu.js\": 64,\n\t\"./he\": 65,\n\t\"./he.js\": 65,\n\t\"./hi\": 66,\n\t\"./hi.js\": 66,\n\t\"./hr\": 67,\n\t\"./hr.js\": 67,\n\t\"./hu\": 68,\n\t\"./hu.js\": 68,\n\t\"./hy-am\": 69,\n\t\"./hy-am.js\": 69,\n\t\"./id\": 70,\n\t\"./id.js\": 70,\n\t\"./is\": 71,\n\t\"./is.js\": 71,\n\t\"./it\": 72,\n\t\"./it.js\": 72,\n\t\"./ja\": 73,\n\t\"./ja.js\": 73,\n\t\"./jv\": 74,\n\t\"./jv.js\": 74,\n\t\"./ka\": 75,\n\t\"./ka.js\": 75,\n\t\"./kk\": 76,\n\t\"./kk.js\": 76,\n\t\"./km\": 77,\n\t\"./km.js\": 77,\n\t\"./kn\": 78,\n\t\"./kn.js\": 78,\n\t\"./ko\": 79,\n\t\"./ko.js\": 79,\n\t\"./ku\": 80,\n\t\"./ku.js\": 80,\n\t\"./ky\": 81,\n\t\"./ky.js\": 81,\n\t\"./lb\": 82,\n\t\"./lb.js\": 82,\n\t\"./lo\": 83,\n\t\"./lo.js\": 83,\n\t\"./lt\": 84,\n\t\"./lt.js\": 84,\n\t\"./lv\": 85,\n\t\"./lv.js\": 85,\n\t\"./me\": 86,\n\t\"./me.js\": 86,\n\t\"./mi\": 87,\n\t\"./mi.js\": 87,\n\t\"./mk\": 88,\n\t\"./mk.js\": 88,\n\t\"./ml\": 89,\n\t\"./ml.js\": 89,\n\t\"./mn\": 90,\n\t\"./mn.js\": 90,\n\t\"./mr\": 91,\n\t\"./mr.js\": 91,\n\t\"./ms\": 92,\n\t\"./ms-my\": 93,\n\t\"./ms-my.js\": 93,\n\t\"./ms.js\": 92,\n\t\"./mt\": 94,\n\t\"./mt.js\": 94,\n\t\"./my\": 95,\n\t\"./my.js\": 95,\n\t\"./nb\": 96,\n\t\"./nb.js\": 96,\n\t\"./ne\": 97,\n\t\"./ne.js\": 97,\n\t\"./nl\": 98,\n\t\"./nl-be\": 99,\n\t\"./nl-be.js\": 99,\n\t\"./nl.js\": 98,\n\t\"./nn\": 100,\n\t\"./nn.js\": 100,\n\t\"./pa-in\": 101,\n\t\"./pa-in.js\": 101,\n\t\"./pl\": 102,\n\t\"./pl.js\": 102,\n\t\"./pt\": 103,\n\t\"./pt-br\": 104,\n\t\"./pt-br.js\": 104,\n\t\"./pt.js\": 103,\n\t\"./ro\": 105,\n\t\"./ro.js\": 105,\n\t\"./ru\": 106,\n\t\"./ru.js\": 106,\n\t\"./sd\": 107,\n\t\"./sd.js\": 107,\n\t\"./se\": 108,\n\t\"./se.js\": 108,\n\t\"./si\": 109,\n\t\"./si.js\": 109,\n\t\"./sk\": 110,\n\t\"./sk.js\": 110,\n\t\"./sl\": 111,\n\t\"./sl.js\": 111,\n\t\"./sq\": 112,\n\t\"./sq.js\": 112,\n\t\"./sr\": 113,\n\t\"./sr-cyrl\": 114,\n\t\"./sr-cyrl.js\": 114,\n\t\"./sr.js\": 113,\n\t\"./ss\": 115,\n\t\"./ss.js\": 115,\n\t\"./sv\": 116,\n\t\"./sv.js\": 116,\n\t\"./sw\": 117,\n\t\"./sw.js\": 117,\n\t\"./ta\": 118,\n\t\"./ta.js\": 118,\n\t\"./te\": 119,\n\t\"./te.js\": 119,\n\t\"./tet\": 120,\n\t\"./tet.js\": 120,\n\t\"./tg\": 121,\n\t\"./tg.js\": 121,\n\t\"./th\": 122,\n\t\"./th.js\": 122,\n\t\"./tl-ph\": 123,\n\t\"./tl-ph.js\": 123,\n\t\"./tlh\": 124,\n\t\"./tlh.js\": 124,\n\t\"./tr\": 125,\n\t\"./tr.js\": 125,\n\t\"./tzl\": 126,\n\t\"./tzl.js\": 126,\n\t\"./tzm\": 127,\n\t\"./tzm-latn\": 128,\n\t\"./tzm-latn.js\": 128,\n\t\"./tzm.js\": 127,\n\t\"./ug-cn\": 129,\n\t\"./ug-cn.js\": 129,\n\t\"./uk\": 130,\n\t\"./uk.js\": 130,\n\t\"./ur\": 131,\n\t\"./ur.js\": 131,\n\t\"./uz\": 132,\n\t\"./uz-latn\": 133,\n\t\"./uz-latn.js\": 133,\n\t\"./uz.js\": 132,\n\t\"./vi\": 134,\n\t\"./vi.js\": 134,\n\t\"./x-pseudo\": 135,\n\t\"./x-pseudo.js\": 135,\n\t\"./yo\": 136,\n\t\"./yo.js\": 136,\n\t\"./zh-cn\": 137,\n\t\"./zh-cn.js\": 137,\n\t\"./zh-hk\": 138,\n\t\"./zh-hk.js\": 138,\n\t\"./zh-tw\": 139,\n\t\"./zh-tw.js\": 139\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 146;","export function helmetIcon () {\n\n  let svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  let pathOne = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  let pathTwo = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  svg.setAttributeNS( null, 'viewBox', '0 0 32 32');\n  pathOne.setAttributeNS( null, 'd', 'm 12.926,13.569 c 0,-0.961 -0.779,-1.74 -1.74,-1.74 -0.96,0 -1.74,0.779 -1.74,1.74 0,0.96 0.779,1.739 1.74,1.739 0.961,10e-4 1.74,-0.778 1.74,-1.739 l 0,0 z');\n  pathTwo.setAttributeNS( null, 'd', 'M 26.977,9.864 C 24.027,3.194 16.228,0.178 9.558,3.128 5.838,4.774 3.083,8.042 2.092,11.987 c 0.112,3.613 0.827,7.182 2.116,10.56 7.119,3.92 14.919,6.449 22.984,7.453 1.027,-1.952 1.775,-4.037 2.225,-6.196 -4.256,-0.492 -8.484,-1.198 -12.669,-2.116 -1.827,-0.401 -3.483,-1.361 -4.74,-2.747 L 8.965,15.584 C 8.151,14.686 7.957,13.386 8.474,12.29 c 0.707,-1.499 2.494,-2.141 3.993,-1.434 l 3.077,1.451 c 0.387,0.183 0.809,0.28 1.236,0.286 4.02,0.058 8.038,-0.19 12.02,-0.74 1.178,3.703 1.422,7.639 0.713,11.459 -0.331,-0.039 -0.663,-0.078 -0.994,-0.119 0.846,-4.497 0.309,-9.144 -1.542,-13.329 z');\n\n  svg.appendChild( pathOne );\n  svg.appendChild( pathTwo );\n\n  return svg;\n\n}\n","import {createHeader, createLink, createInput, createCloseButton, createInfoBlock, createDobInput, createBackButton, createConfirmationCheckbox } from '../utilities/elements.js';\nimport { toCurrency } from '../utilities/numberFormats.js';\nimport { helmetIcon } from '../utilities/icons.js';\nimport {addSpinner, removeSpinner} from '../utilities/spinner.js';\nimport Reservation from './reservation.js';\n\nfunction ReservationForm( targetEl, autoLoadForm, isFamilyEvent, bookingQty, qtyCadets, qtyInduction, price, regularPrice, onSale, inductionPrice, partyInfo ){\n  this.targetEl = targetEl;\n  this.autoLoadForm = autoLoadForm;\n  this.isFamilyEvent = isFamilyEvent;\n  this.bookingQty = bookingQty;\n  this.qtyCadets = qtyCadets;\n  this.qtyInduction = qtyInduction;\n  this.price = price;\n  this.regularPrice = regularPrice;\n  this.onSale = onSale;\n  this.inductionPrice = inductionPrice;\n  this.partyInfo = partyInfo;\n}\n\nReservationForm.prototype.addFormElements = function (reservationForm, eventId, eventReservationId, eventName, start, duration, productId, wcProductId, trackId, currentUser, currentParticipants, maxParticipants) {\n\n  let subtotal = this.calculateOrderTotal();\n  \n  //dates and times\n  let dateDisplay = start.format('dddd, MMMM Do YYYY');\n  let timeDisplay = start.format('H:mm');\n  // timeDisplay += ' - ' + start.clone().add(duration, 'm').format('H:mm');\n  //back button\n  reservationForm.appendChild( createCloseButton(reservationForm, '<< back', 'back', 'button', 'text-button') );\n  //header\n  reservationForm.appendChild(createHeader('h2', eventName));\n  //date and time\n  let dateInfo = createInfoBlock( null, [{content: dateDisplay}, {content: timeDisplay}]);\n  dateInfo.classList.add('date-info');\n  reservationForm.appendChild( dateInfo );\n\n  let elementType = \"\";\n\n  //quantities\n  if (this.autoLoadForm) {\n    console.log(\"Is autoload form\");\n    // show input boxes for quantities\n    elementType = \"input\";\n    let quantitiesCont = document.createElement('div');\n    quantitiesCont.classList.add('quantities');\n    this.displayQuantities( reservationForm, quantitiesCont, trackId, this.bookingQty, this.qtyCadets, this.qtyInduction, this.partyInfo, elementType );\n    reservationForm.appendChild( quantitiesCont );\n  } else {\n    // show fixed quantities\n    elementType = \"infoBlock\";\n    let quantitiesCont = document.createElement('div');\n    quantitiesCont.classList.add('quantities');\n    this.displayQuantities( reservationForm, quantitiesCont, trackId, this.bookingQty, this.qtyCadets, this.qtyInduction, this.partyInfo, elementType );\n    reservationForm.appendChild( quantitiesCont );\n  }\n\n  //show inductions block\n  this.showInductions();\n\n  reservationForm.appendChild( this.drawOrderTotal() );\n\n  //enter details\n  reservationForm.appendChild( createHeader('h4', 'Please enter your details') );\n\n  let nameInput = createInput(reservationForm, 'Full name', 'name', 'text', '', true, 'full name');\n  let emailInput = createInput(reservationForm, 'Your E-mail', 'email', 'email', '', true, 'e-mail');\n  let dobInputEl = createDobInput();\n  reservationForm.appendChild( dobInputEl );\n  let telephoneInput = createInput(reservationForm, 'Phone number', 'telephone', 'text', '', true, 'phone number');\n  //confirmation checkbox\n  let confirmationEl = createConfirmationCheckbox( 'consent', 'consent-input', 'We require your e-mail address to manage your reservation in our booking system. We may send you a courtesy email to check that you were able to book successfully. Please tick this box if you are happy to proceed.', true, 'consent-cont' );\n  reservationForm.appendChild( confirmationEl );\n\n  //add user details\n  if( currentUser ){\n    if( currentUser.name.length > 0 && currentUser.name !== ' ' ){\n      nameInput.value = currentUser.name;\n    }\n    if( currentUser.email ){\n      emailInput.value = currentUser.email;\n    }\n  }\n\n  // hidden inputs\n  createInput(reservationForm, 'WC Product ID', 'wc-product-id', 'hidden', wcProductId);\n  this.subTotalInput = createInput(reservationForm, 'Subtotal', 'subtotal', 'hidden', subtotal);\n  createInput(reservationForm, 'Event ID', 'event-id', 'hidden', eventId);\n  createInput(reservationForm, 'Event Reservation ID', 'event-reservation-id', 'hidden', eventReservationId);\n  createInput(reservationForm, 'Product ID', 'product-id', 'hidden', productId);\n  createInput(reservationForm, 'Start', 'start', 'hidden', start.clone().format('YYYY-MM-DD HH:mm:ss'));\n  this.bookingQtyInput = createInput(reservationForm, 'Qty', 'qty', 'hidden', parseInt(this.bookingQty, 10));\n  this.qtyCadetsInput = createInput(reservationForm, 'Qty. Cadets', 'qty-cadets', 'hidden', parseInt(this.qtyCadets, 10));\n  this.qtyInductionInput = createInput(reservationForm, 'Qty. Inductions', 'qty-induction', 'hidden', parseInt(this.qtyInduction, 10));\n\n  //submit button\n  createInput(reservationForm, '', 'submitButton', 'submit', 'Make Reservation');\n\n  //close button\n  let closeButton = createCloseButton(reservationForm, 'go back', 'cancel', 'button', 'close');\n  reservationForm.appendChild(closeButton);\n};\n\nReservationForm.prototype.showInductions = function () {\n  \n  // check exists\n  if (document.getElementsByClassName('induction-select').length < 1) {\n\n    let inductionTimeSelect = document.createElement('div');\n    inductionTimeSelect.classList.add('induction-select');\n    inductionTimeSelect.appendChild( createHeader('h4', 'Please choose an induction time') );\n    let inductionTimesCont = document.createElement('div');\n    inductionTimesCont.classList.add('induction-times');\n    inductionTimeSelect.appendChild( inductionTimesCont );\n  \n    this.targetEl.appendChild(inductionTimeSelect);\n    addSpinner( inductionTimesCont );\n\n    if (this.qtyInduction < 1) {\n      inductionTimeSelect.style.display = \"none\";\n    }\n  }\n\n};\n\nReservationForm.prototype.displayQuantities = function (reservationForm, targetEl, trackId, elementType ) {\n\n  let totalTitle = ( trackId === 1 || trackId === 3 ) ? 'Total Racers' : 'Total Participants';\n  let qtyTotal = ( this.partyInfo.guests > 0 ) ? this.partyInfo.guests + this.partyInfo.extra_guests : this.bookingQty ;\n\n  if (!this.autoLoadForm) {\n    let qtyTotalEl = createInfoBlock( totalTitle, [{type: 'node', content: helmetIcon()}, {content: ' x' + qtyTotal}]);\n    targetEl.appendChild( qtyTotalEl );\n    if (qtyCadets > 0){\n      let qtyAdultsEl = createInfoBlock( '(14+)', [{type: 'node', content: helmetIcon()}, {content: ' x' + (this.bookingQty - this.qtyCadets)}]);\n      targetEl.appendChild( qtyAdultsEl );\n      let qtyCadetsEl = createInfoBlock( '(8-13)', [{type: 'node', content: helmetIcon()}, {content: ' x' + this.qtyCadets}]);\n      targetEl.appendChild( qtyCadetsEl );\n    }\n  } else {\n    //enter details\n    reservationForm.appendChild( createHeader('h4', 'How many people will be taking part?') );\n\n    let qtyAdultsWrap = document.createElement(\"div\");\n    let qtyAdultsEl = createInput( qtyAdultsWrap, 'Drivers aged 14+', 'quantity-adults', 'number', 0, false, '', 0, 35, 2, 2, '[0-9]{2}' );\n    qtyAdultsEl.addEventListener('change', this.onQuantityChange.bind(this) );\n    targetEl.appendChild( qtyAdultsWrap );\n\n    let qtyCadetsWrap = document.createElement(\"div\");\n    let qtyCadetsEl = createInput( qtyCadetsWrap, 'Drivers aged 8-13', 'quantity-cadets', 'number', 0, false, '', 0, 35, 2, 2, '[0-9]{2}' );\n    qtyCadetsEl.addEventListener('change', this.onQuantityChange.bind(this) );\n    targetEl.appendChild( qtyCadetsWrap );\n\n    let qtyInductionsWrap = document.createElement(\"div\");\n    let qtyInductionsEl = createInput( qtyInductionsWrap, 'Number of inductions', 'quantity-inductions', 'number', 0, false, '', 0, 35, 2, 2, '[0-9]{2}' );\n    targetEl.appendChild( qtyInductionsWrap );\n    this.inductionsInput = qtyInductionsEl;\n  }\n\n};\n\nReservationForm.prototype.addInductionTime = function ( time, index, inductionEventResId, inductionEventId ) {\n\n  let timeFormat = time.format('YYYY-MM-DDTHH:mm:ss');\n  let timeLabel = time.format('H:mm dddd, Do MMMM YYYY'); \n  let inductionContainer = document.getElementsByClassName('induction-times')[0];\n  //remove spinner\n  if( inductionContainer.classList.contains('loading') ){\n    removeSpinner( inductionContainer );\n  }\n\n  let inductionInput = document.createElement('input');\n  inductionInput.type = 'radio';\n  inductionInput.name = 'induction-time';\n  inductionInput.id = 'induction-time-' + index;\n  inductionInput.value = timeFormat;\n  inductionInput.required = true;\n  //add event res id and event id\n  if( inductionEventResId ){\n    inductionInput.setAttribute( 'data-event-reservation', inductionEventResId );\n  }\n  if( inductionEventId ){\n    inductionInput.setAttribute( 'data-event-id', inductionEventId );\n  }\n  let inductionLabel = document.createElement('label');\n  let inductionLabelText = document.createTextNode( timeLabel );\n  inductionLabel.setAttribute( 'for', 'induction-time-' + index );\n  inductionLabel.appendChild( inductionLabelText );\n\n  inductionContainer.appendChild( inductionInput );\n  inductionContainer.appendChild( inductionLabel );\n};\n\nReservationForm.prototype.noInductionsAvailable = function () {\n  let inductionContainer = document.getElementsByClassName('induction-times')[0];\n  inductionContainer.classList.add('no-availability');\n  removeSpinner( inductionContainer );\n\n  let headerEl = createHeader('h3', 'No inductions available');\n  let infoEl = document.createElement('p');\n  infoEl.innerHTML = 'Sorry, there are no induction slots available on this date. Please call us on <a href=\"tel:01915214050\">0191 521 4050</a> to see when we can accommodate you.';\n  inductionContainer.appendChild(headerEl);\n  inductionContainer.appendChild(infoEl);\n  //remove inputs\n  let childNodes = document.getElementById('reservation_form').children;\n  [...childNodes].forEach( function( child ){\n    if( child.tagName === 'INPUT' ){\n      child.disabled = true;\n    }\n  })\n  //remove dob input\n  let dobInputs = document.getElementsByClassName('dob-input');\n  [...dobInputs].forEach( function( input ){\n    input.disabled = true;\n  })\n\n  //remove submit button\n  let submitButton = document.getElementsByName('submitButton')[0];\n  submitButton.parentNode.removeChild(submitButton);\n};\n\nReservationForm.prototype.onQuantityChange = function (e) {\n  \n  let adultQtyInput = parseInt(document.getElementsByName('quantity-adults')[0].value, 10);\n  let cadetQtyInput = parseInt(document.getElementsByName('quantity-cadets')[0].value, 10);\n  let inductionQtyInput = parseInt(document.getElementsByName('quantity-inductions')[0].value, 10);\n\n  this.qtyCadets = cadetQtyInput;\n  this.qtyInduction = inductionQtyInput;\n  this.bookingQty = cadetQtyInput + adultQtyInput;\n\n  // update hidden quantitys and totals\n  this.subTotalInput.value = this.calculateOrderTotal();\n  this.bookingQtyInput.value = this.bookingQty;\n  this.qtyCadetsInput.value = this.qtyCadets;\n  this.qtyInductionInput.value = this.qtyInduction;\n\n  // get existing subtotal element to change in dom\n  let existingSubtotalEl = document.getElementsByClassName('subtotal-area')[0];\n  existingSubtotalEl.parentNode.replaceChild(this.drawOrderTotal(), existingSubtotalEl);\n\n}\n\nReservationForm.prototype.calculateOrderTotal = function () {\n\n  //prices\n  let subtotal = parseFloat(this.price, 10) * parseInt(this.bookingQty, 10);\n  if( this.qtyInduction > 0 ){\n    subtotal += ( parseFloat(this.inductionPrice, 10) * parseInt(this.qtyInduction, 10) );\n  }\n  if(this.partyInfo.extra_guests > 0){\n    subtotal += ( this.partyInfo.extra_guest_price * this.partyInfo.extra_guests );\n  }\n\n  return subtotal;\n\n};\n\nReservationForm.prototype.drawOrderTotal = function () {\n\n    let subTotalEl = createInfoBlock( 'Sub-Total', [{content: this.orderTotalContent() , innerhtml: true}]);\n    subTotalEl.classList.add('subtotal-area');\n    this.subTotalEl = subTotalEl;\n    return subTotalEl; \n\n};\n\nReservationForm.prototype.orderTotalContent = function () {\n  \n  let subtotal = this.calculateOrderTotal();\n  //sub-total and per person\n  let regularPriceText = '';\n  if( this.onSale && this.regularPrice ){\n    regularPriceText = '<strike>' + toCurrency( parseFloat(this.regularPrice, 10), '£' ) + '</strike>';\n  }\n  let inductionSubTotalDisplay = ( this.qtyInduction > 0 ) ? ', plus ' + this.qtyInduction + 'x ' + toCurrency( parseFloat(this.inductionPrice, 10), '£' ) + ' for inductions' : '' ;\n  let subTotalDisplay = toCurrency( subtotal, '£' ) + ' (' + this.bookingQty + 'x ' + regularPriceText + toCurrency( parseFloat(this.price, 10), '£' ) + ' per person' + inductionSubTotalDisplay + ')';\n  //if party, change subtotal display\n  if( this.partyInfo.guests > 0 ){\n    subTotalDisplay = toCurrency( subtotal, '£' ) + ' (includes ' + this.partyInfo.extra_guests + 'x extra guests at ' + toCurrency( this.partyInfo.extra_guest_price, '£' ) + ' per guest.)';\n  }\n  return subTotalDisplay;\n};\n\nexport default ReservationForm;\n","export function addSpinner ( targetEl ) {\n  targetEl.classList.add('loading');\n  let spinnerEl = document.createElement('div');\n  spinnerEl.classList.add('lds-ring');\n  for( var x = 0; x < 3; x++ ){\n    let childDiv = document.createElement('div');\n    spinnerEl.appendChild(childDiv);\n  }\n  targetEl.appendChild( spinnerEl );\n}\n\nexport function removeSpinner ( targetEl ) {\n  targetEl.removeChild( targetEl.firstChild );\n  targetEl.classList.remove('loading');\n}\n\nexport function setSpinnerText( targetEl, text ){\n\n}\n","import moment from 'moment';\n\nfunction Storage () {\n\n  this.storage = window.localStorage;\n  this.expire = 24; //hours\n\n}\n\nStorage.prototype.retrieve = function ( storeName ) {\n  let store = JSON.parse(this.storage.getItem( storeName ));\n  if( typeof( store ) !== 'undefined' ){\n    return store;\n  } else {\n    return false;\n  }\n}\n\nStorage.prototype.store = function ( itemKey, storeName, storageObject ){\n\n  let store = JSON.parse(this.storage.getItem( storeName ));\n  //create items object if doesn't exist\n  if( !store ){\n    store = {\n      items: {}\n    }\n  }\n  //set created on storage Object\n  storageObject.updated = moment().format();\n\n  //set items\n  store.items[itemKey] = storageObject;\n  this.storage.setItem(storeName, JSON.stringify(store));\n}\n\nStorage.prototype.expired = function ( storageObject ) {\n  let storageExpire = moment( storageObject.updated ).add( this.expire, 'h' );\n  if( moment() > storageExpire ){\n    return true;\n  } else {\n    return false;\n  }\n}\n\nStorage.prototype.echo = function () {\n\n  let echoObject = {};\n  let keys = Object.keys(this.storage);\n  for (const key of keys) {\n    try {\n      echoObject[key] = JSON.parse(this.storage.getItem( key ), false);\n    } catch (e) {\n      // Oh well, but whatever...\n    }\n  }\n  console.log( echoObject );\n};\n\nexport default Storage;\n","export function toCurrency( value, symbol = '' ){\n  let number = value.toFixed(2);\n  return symbol + number;\n}\n","function Api () {\n  this.base_url = 'https://knesunderland.clubspeedtiming.com/api/index.php/';\n  this.api = 'LDai18udl09uFs26Miv1';\n  this.limit = 200;\n}\n\nApi.prototype.checkResponse = function( response ){\n  if( !response.ok ){\n    return Promise.reject(new Error(response.statusText))\n  } else {\n    return Promise.resolve(response)\n  }\n}\n\nApi.prototype.returnJson = function( response ){\n  return response.json()\n}\n\n\nexport default Api;\n","import moment from 'moment';\n\nfunction EventReservation( eventReservationId, description, endTime, eventTypeId, minNoOfAdultsPerBooking, minNoOfCadetsPerBooking, noOfCadetRacers, noOfRacers, noOfTotalRacers, notes, startTime, status, subject, externalSystemId, typeId, hidden ) {\n\n  this.eventReservationId = eventReservationId;\n  this.description = description;\n  this.endTime = endTime;\n  this.eventTypeId = eventTypeId;\n  this.minNoOfAdultsPerBooking = minNoOfAdultsPerBooking;\n  this.minNoOfCadetsPerBooking = minNoOfCadetsPerBooking;\n  this.noOfCadetRacers = noOfCadetRacers; //Maximum number of cadet racers\n  this.noOfRacers = noOfRacers; //Maximum no of adult racers on event\n  this.noOfTotalRacers = noOfTotalRacers; //Maximum no of racers in total on event\n  this.notes = notes;\n  this.startTime = startTime;\n  this.status = status; //1 - Unconfirmed, 2 - reserved, 3 - confirmed, 4 - canceled, 5 - closed\n  this.subject = subject;\n  this.typeId = typeId; //needed as dictates which track to show unde ron calendar\n  this.hidden = hidden;\n\n  this.event = {};\n  this.checks = {};\n\n  this.userId = 2; //web user\n\n  this.externalSystemId = externalSystemId;\n\n}\n\nEventReservation.prototype.getCurrentParticipants = function ( product = null ) {\n  let participants = 0;\n  //check if reservation\n  if (typeof(this.checks) !== 'undefined' ) {\n    let checkKeys = Object.keys(this.checks);\n    for (const checkId of checkKeys) {\n      //check if chekc exists\n      if(this.checks[checkId]){\n\n        if(this.checks[checkId].checkDetails){\n          //loop through checkdetails\n          let checkDetailKeys = Object.keys(this.checks[checkId].checkDetails)\n          for( const checkDetailId of checkDetailKeys){\n            let checkDetail = this.checks[checkId].checkDetails[checkDetailId];\n            if( checkDetail.status !== 2 ){\n              let rPoints = checkDetail.r_Points;\n              let qty = checkDetail.qty;\n              let points = (rPoints) ? parseInt(rPoints, 10) * parseInt(qty, 10) : 0 ;\n              participants += points;\n              let cadetQty = parseInt(checkDetail.cadetQty, 10);\n              participants += cadetQty;\n            }\n          }\n        }\n\n      }\n    }\n  }\n  this.participants = participants;\n  return this.participants;\n}\n\nEventReservation.prototype.createEventReservationOnApi = function( api ){\n  return new Promise( function(resolve, reject) {\n\n    let start = moment(this.eventScheduledTime);\n    let end = moment(this.eventScheduledTime).add(parseInt(this.eventDuration, 10), 'm');\n\n    let createEventReservationString = api.base_url + 'eventreservations?key=' + api.api +\n      '&allowOnlineReservation=true' +\n      '&description=' + this.description +\n      '&endTime=' + this.endTime +\n      '&eventTypeId=' + this.eventTypeId +\n      '&isEventClosure=false' +\n      '&minNoOfAdultsPerBooking=0' +\n      '&minNoOfCadetsPerBooking=0' +\n      '&noOfRacers=' + this.noOfRacers +\n      '&noOfCadetRacers=' +  this.noOfCadetRacers + //can use participants in event to set this\n      '&noOfTotalRacers=' + this.noOfTotalRacers + //remember this is maximum number\n      '&notes=Online booking' + this.subject +\n      '&ptsPerReservation=1' +\n      '&repId=3' + //House\n      '&startTime=' + this.startTime +\n      '&status=2' + //2 - reserved\n      '&subject=' + this.subject +\n      '&typeId=' + this.typeId + //this is eventReservationType - this dictates track in calendar on clubspeed!\n      '&userId=' + this.userId + //2 - web user\n      '&externalSystemId=KNE Website online booking system';\n\n    fetch( createEventReservationString, {method: 'POST'} )\n      .then( response => {\n        if( !response.ok ){\n          throw Error(response.statusText);\n        }\n        return response;\n      })\n      .then( response =>\n        response.json()\n      )\n      .then( newEventReservationId => {\n        resolve(newEventReservationId);\n      })\n      .catch( err => {\n        reject(err);\n      })\n\n  }.bind(this))\n}\n\n//make reservation promise chain\nEventReservation.prototype.setId = function (eventReservationId, api){\n  return new Promise( function( resolve, reject){\n    if(!eventReservationId){\n      this.createEventReservationOnApi( api )\n        .then( newEventReservationId => {\n          this.eventReservationId = newEventReservationId;\n          resolve( newEventReservationId );\n        })\n    } else {\n      this.eventReservationId = eventReservationId;\n      resolve( eventReservationId);\n    }\n  }.bind(this))\n}\n\nEventReservation.prototype.getChecks = function( api ){\n  return new Promise( function( resolve, reject ){\n\n    this.getEventReservationLinks( api )\n      .then( eventReservationLinks => {\n        let checkIds = [];\n        eventReservationLinks.forEach( function( eventResLink ){\n          checkIds.push( eventResLink.checkId )\n        })\n        //fetch checks\n        let checksQueryString = api.base_url + 'checks?key=' + api.api + '&where={\"checkId\":{\"in\":[' + checkIds + ']}}';\n        return fetch( checksQueryString)\n      })\n      .then( response => api.checkResponse(response) )\n      .then( response => api.returnJson(response) )\n      .then( checks => {\n        resolve(checks)\n      })\n      .catch( err => {\n        reject(err)\n      })\n\n  }.bind(this))\n}\n\nEventReservation.prototype.getEventReservationLinks = function( api ){\n  return new Promise( function( resolve, reject ){\n\n    let eventReservationLinkString = api.base_url + 'eventReservationLinks?key=' + api.api + '&where={\"reservationId\":' + this.eventReservationId + '}';\n    fetch( eventReservationLinkString)\n      .then( response => api.checkResponse(response) )\n      .then( response => api.returnJson(response) )\n      .then( eventReservationLinks => {\n        resolve(eventReservationLinks)\n      })\n      .catch( err => {\n        reject(err)\n      })\n  }.bind(this))\n}\n\nEventReservation.prototype.setStatus = function( status, api ){\n  return new Promise( function( resolve, reject ) {\n    console.info('setting event status to ' + status);\n    this.status = status;\n    let putEventResStatusString =  api.base_url + 'eventreservations/' + this.eventReservationId + '?key=' + api.api + '&status=' + status;\n\n    fetch(putEventResStatusString, {\n      method: 'PUT',\n      cors: 'cors'\n    })\n      .then( response => {\n        console.log(response)\n        resolve(response)\n      })\n  }.bind(this))\n}\n\nEventReservation.prototype.removeCheck = function( checkId, api ){\n  console.info('Removing check ' + checkId + '...');\n  return new Promise( function( resolve, reject ){\n    //remove from object if exists\n    if( this.checks[checkId] ){\n      delete this.checks[checkId];\n    }\n    //if last check set event delete to true\n    this.getChecks( api )\n      .then( checks => {\n        let checkCnt = 0;\n        checks.checks.forEach( function(check){\n          if( check.status==0 ){\n            checkCnt++;\n          }\n        })\n        resolve( checkCnt );\n      })\n      .catch( err => {\n        reject(err)\n      })\n\n  }.bind(this))\n}\n\n\nexport default EventReservation;\n","import moment from 'moment';\nimport {addFormElements} from './reservationForm.js';\nimport expand from '../utilities/expand.js';\n\nfunction Event(eventDesc, eventDuration, eventId, eventScheduledTime, eventTypeId, eventTypeName, reservationId, trackNo, eventHeatTypes) {\n\n  this.eventId = eventId;\n  this.eventDesc = eventDesc;\n  this.eventDuration = eventDuration;\n  this.eventScheduledTime = eventScheduledTime;\n  this.eventTypeId = eventTypeId;\n  this.eventTypeName = eventTypeName;\n  this.reservationId = reservationId;\n  this.trackNo = trackNo;\n  this.eventHeatTypes = eventHeatTypes;\n\n  this.eventRoundsIds = [];\n\n}\n\nEvent.prototype.getEventIds = function(api) {\n  return new Promise (function (resolve, reject) {\n\n    if (this.eventId && this.reservationId) {\n      //if event ids exist\n      resolve({\n        eventId: this.eventId,\n        eventReservationId: this.eventReservationId\n      });\n    } else {\n      //create event and res and get ids if don't exist\n      EventReservation.createEventReservationOnApi(api)\n        .then( newEventReservationId => {\n          this.reservationId = newEventReservationId;\n          return this.createEventOnApi(api);\n        })\n        .then( newEventId => {\n          this.eventId = newEventId;\n          resolve({\n            eventId: this.eventId,\n            eventReservationId: this.reservationId\n          });\n        })\n\n    }\n  }.bind(this))\n}\n\nEvent.prototype.createEventOnApi = function(api) {\n  return new Promise( function(resolve, reject) {\n\n    let start = moment(this.eventScheduledTime);\n    let end = moment(this.eventScheduledTime).add(parseInt(this.eventDuration, 10), 'm');\n\n    let postEventString = api.base_url + 'events?key=' + api.api +\n      '&eventDesc=TEST EVENT Online' +\n      '&eventDuration=' + this.eventDuration +\n      '&eventNotes=This is an online test event form Surge.' +\n      '&eventScheduledTime=' + start.clone().format('YYYY-MM-DDTHH:mm:ss') +\n      '&eventTheme=-16776961' + //want to set custom theme colour to distinguish online bookings\n      '&eventTypeId=' + this.eventTypeId +\n      '&eventTypeName=' + this.eventTypeName +\n      '&reservationId=' + this.reservationId +\n      '&totalRacers=0' +\n      '&trackNo=' + this.trackNo\n\n    fetch( postEventString, {method: 'POST'} )\n      .then( response => {\n        if( !response.ok ){\n          throw Error(response.statusText);\n        }\n        return response;\n      })\n      .then( response =>\n        response.json()\n      )\n      .then( newEventId => {\n        this.eventId = newEventId;\n        //create rounds\n        return this.createEventRoundsOnApi( newEventId, api )\n      })\n      .then( eventRoundsIds => {\n        this.eventRoundsIds = eventRoundsIds;\n        resolve(this.eventId);\n      })\n      .catch( err => {\n        reject(err);\n      })\n\n  }.bind(this))\n}\n\nEvent.prototype.createEventRoundsOnApi = function( eventId, api ) {\n  return new Promise(function(resolve, reject) {\n\n    //console.log(this.eventHeatTypes);\n\n    let eventRoundsIds = [];\n\n    if( this.eventHeatTypes ){\n      this.eventHeatTypes.forEach( function( heatType ){\n\n        let eventRoundsPostString = api.base_url + 'eventRounds?key=' + api.api +\n          '&eventId=' + eventId +\n          '&cadetsPerHeat=' + heatType.cadetsPerHeat +\n          '&heatDescription=' + heatType.description +\n          '&heatsPerRacer=' + heatType.heatsPerRacer +\n          '&heatTypeId=' + heatType.heatTypeId +\n          '&racersPerHeat=' + heatType.racersPerHeat +\n          '&roundNumber=' + heatType.roundNumber +\n          '&roundWinBy=' + heatType.roundWinBy +\n          '&proceedValue=' + heatType.proceedValue +\n          '&proceedMethod=' + heatType.proceedMethod +\n          '&lineUpType=' + heatType.lineUpType;\n\n        //console.log(eventRoundsPostString);\n\n        fetch( eventRoundsPostString, {method: 'POST'} )\n          .then( response => {\n            if( !response.ok ){\n              throw Error(response.statusText);\n            }\n            return response;\n          })\n          .then( response =>\n            response.json()\n          )\n          .then( eventRoundId => {\n            //console.log(eventRoundId);\n            eventRoundsIds.push( eventRoundId )\n          })\n          .catch( err => {\n            console.log(err);\n          })\n\n        resolve( eventRoundsIds );\n\n      })\n    } else {\n      resolve(null);\n    }\n\n  }.bind(this));\n}\n\nEvent.prototype.setId = function(eventId, api){\n  return new Promise( function( resolve, reject){\n    if(!eventId){\n      this.createEventOnApi( api )\n        .then( newEventId => {\n          this.eventId = newEventId;\n          resolve( newEventId );\n        })\n    } else {\n      this.eventId = eventId;\n      resolve( eventId );\n    }\n  }.bind(this))\n}\n\nEvent.prototype.removeEventOnApi = function ( api ) {\n  return new Promise( function( resolve, reject ){\n    console.info('Deleting Event ' + this.eventId);\n\n    let deleteEventString = api.base_url + 'events/' + this.eventId + '?key=' + api.api;\n\n    fetch( deleteEventString, {method: 'DELETE'} )\n      .then( response => api.checkResponse(response) )\n      .then( response => {\n        resolve( true )\n      })\n      .catch( err => {\n        reject( err )\n      })\n\n\n  }.bind(this))\n};\n\n\nexport default Event;\n","import Storage from '../utilities/storage.js';\nimport {createHeader, createParagraph } from '../utilities/elements.js';\nimport moment from 'moment';\nimport { addSpinner, removeSpinner } from '../utilities/spinner.js'; //ui js\n\nfunction Reservation ( reservationId, wcProductId, created, eventTypeId, check, checkDetails, customer, event, eventReservation, eventReservationLink, status, wcEventTitle, induction ) {\n\n  this.reservationId = reservationId;\n  this.wcProductId = wcProductId;\n  this.created = created;\n  this.eventTypeId = eventTypeId;\n\n  this.check = check;\n  this.checkDetails = checkDetails;\n  this.customer = customer;\n  this.event = event;\n  this.eventReservation = eventReservation;\n  this.eventReservationLink = eventReservationLink;\n  this.status = status;\n  this.wcEventTitle = wcEventTitle;\n  this.induction = induction;\n\n}\n\nReservation.prototype.setStatusCancelled = function() {\n  //set status\n  this.status = 'cancelled';\n  //set in local storage\n  let storage = new Storage();\n  let reservationStore = storage.retrieve('reservations');\n  reservationStore.items[this.reservationId].status = 'cancelled';\n  storage.store(this.reservationId, 'reservations', this);\n\n  return true;\n}\n\nReservation.prototype.displaySummary = function ( targetEl ) {\n\n  console.log(this);\n\n  let eventTitle = ( this.induction ) ? this.wcEventTitle + ' + Inductions' : this.wcEventTitle ;\n  targetEl.appendChild(createHeader( 'h2', eventTitle ));\n  let startTimeMoment = moment( this.eventReservation.startTime );\n  let startDateDisplay = startTimeMoment.format( 'dddd, Do MMMM YYYY' );\n  let startTimeDisplay = startTimeMoment.format( 'H:mm' );\n  if( this.induction ){\n    let inductionStartMoment = moment( this.induction.startTime );\n    startTimeDisplay += ' (Inductions at ' + inductionStartMoment.format('H:mm') + ')';\n  }\n  let startDate = createParagraph( startDateDisplay, 'reservation-date' );\n  let startTime = createParagraph( startTimeDisplay, 'reservation-time' );\n\n  targetEl.appendChild( startDate );\n  targetEl.appendChild( startTime );\n\n  removeSpinner( targetEl );\n\n};\n\n\nexport default Reservation;\n","import { addSpinner, removeSpinner } from './spinner.js';\n\nexport function showOverlay( sub, loading, content = null, hideSpinner = null ) {\n  let overlay = null;\n  //creat element if not in dom\n  if( document.getElementsByClassName('overlay').length < 1 ){\n    overlay = document.createElement('div');\n    overlay.classList.add('overlay');\n    document.body.appendChild(overlay);\n  } else {\n    overlay = document.getElementsByClassName( 'overlay' )[0];\n  }\n  //sub class\n  if( sub ){\n    overlay.classList.add('sub');\n  }\n  //add spinner\n  if( loading ){\n    addSpinner(overlay);\n  }\n  //if content\n  if( content ){\n    overlay.appendChild( content );\n  }\n  //if hide spinner\n  if ( hideSpinner ){\n    removeSpinner(overlay);\n  }\n\n  return overlay;\n}\n\nexport function removeOverlay(){\n  if( document.getElementsByClassName('overlay').length > 0 ){\n    let overlay = document.getElementsByClassName( 'overlay' )[0];\n    //if spinner, remove\n    if( document.getElementsByClassName('lds-ring').length > 0){\n      removeSpinner( overlay );\n    }\n    //remove overlay\n    overlay.parentNode.removeChild(overlay);\n  }\n}\n"],"sourceRoot":""}